#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass scrbook
\use_default_options true
\master 0000_PA14_wlan_1.lyx
\maintain_unincluded_children false
\language ngerman
\language_package default
\inputencoding utf8
\fontencoding global
\font_roman cmr
\font_sans lmss
\font_typewriter cmtt
\font_math auto
\font_default_family sfdefault
\use_non_tex_fonts false
\font_sc false
\font_osf true
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 11
\spacing other 1.2
\use_hyperref false
\papersize a4paper
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\index Stichwortverzeichnis
\shortcut idx
\color #008000
\end_index
\leftmargin 35mm
\topmargin 35mm
\rightmargin 25mm
\bottommargin 30mm
\headheight 18mm
\headsep 12mm
\footskip 20mm
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip medskip
\quotes_language french
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Chapter
Vorgehen / Methoden
\end_layout

\begin_layout Itemize
(Beschreibt die Grundüberlegungen der realisierten Lösung (Konstruktion/Entwurf)
 und die Realisierung als Simulation, als Prototyp oder als Software-Komponente)
\end_layout

\begin_layout Itemize
(Definiert Messgrössen, beschreibt Mess- oder Versuchsaufbau, beschreibt
 und dokumentiert Durchführung der Messungen/Versuche)
\end_layout

\begin_layout Itemize
(Experimente)
\end_layout

\begin_layout Itemize
(Lösungsweg)
\end_layout

\begin_layout Itemize
(Modell)
\end_layout

\begin_layout Itemize
(Tests und Validierung)
\end_layout

\begin_layout Itemize
(Theoretische Herleitung der Lösung)
\end_layout

\begin_layout Section
Aufbau der Netzwerkumgebung
\end_layout

\begin_layout Standard
In OMNeT++ wird ein HSR-Ring-Netzwerk aufgebaut, in welchem der Traffic
 simuliert wird.
 Mittels Konfigurationsdatei kann man die zu verwendenden Prioritäten (siehe
 Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Prioritäten-der-Ethernet-Frames"

\end_inset

) und Mechanismen (siehe Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Mechanismen-zur-Trafficregelung"

\end_inset

) definieren, welche in den weiteren Kapiteln genauer behandelt werden.
\end_layout

\begin_layout Subsection
Prioritäten der Ethernet-Frames
\begin_inset CommandInset label
LatexCommand label
name "sub:Prioritäten-der-Ethernet-Frames"

\end_inset


\end_layout

\begin_layout Standard
Für die Frames sind 3 verschiedene Prioritäten vorgesehen, nämlich sogenannte
 Express-, High- und Low-Frames.
 Dabei handelt es sich um das in Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sec:Interspersing-Express-Traffic"

\end_inset

 beschriebene Express-Frame, wobei die High- und Low-Frames als normales
 Frame gelten und sich lediglich bei der Priorisierung unterscheiden.
\end_layout

\begin_layout Standard
In dieser Arbeit werden wir diese Frames wie folgt auf technischer Ebene
 unterscheiden:
\end_layout

\begin_layout Itemize
Ein Express-Frame wird durch einen eigenen EtherType-Wert im Ethernet-Header
 definiert.
 So werden diese Frames auch nur von den Geräten erkannt, die diesen EtherType-W
ert kennen.
 Bis jetzt gibt es noch keine konkreten Vorschläge wie ein Express-Frame
 gekennzeichnet ist.
 Die hier erwähnte Kennzeichnung ist eine der Autoren ausgedachten Lösungen.
\end_layout

\begin_layout Itemize
Bei einem High-Frame handelt es sich um ein normales Ethernet-Frame das
 über ein VLAN-Tag mit der Priorität 1 versehen ist.
 Da das VLAN-Priority-Feld 3 Bits gross ist wären 8 verschiedene Prioritäten
 möglich, jedoch wird in dieser Arbeit keine Prioritätsnummer, die höher
 als 1 ist, verwendet.
\end_layout

\begin_layout Itemize
Als ein Low-Frame werden alle Frames definiert, welche ein VLAN-Tag mit
 der Priorität 0 oder keine besondere Kennzeichnung haben.
\end_layout

\begin_layout Subsection
Mechanismen zur Trafficregelung
\begin_inset CommandInset label
LatexCommand label
name "sub:Mechanismen-zur-Trafficregelung"

\end_inset


\end_layout

\begin_layout Standard
In diesem Kapitel werden Mechanismen erläutert, welche den Traffic regeln
 und in der Simulation implementiert werden.
\end_layout

\begin_layout Subsubsection
Limitierung des Zuflusses von neuem Traffic
\begin_inset CommandInset label
LatexCommand label
name "sub:Limitierung-des-Zuflusses"

\end_inset


\end_layout

\begin_layout Standard
Jedes Gerät generiert intern mit einer fixen Rate eine Anzahl an Tokens
 bis zu einem bestimmten Maximum.
 Möchte das Gerät ein neues, intern generiertes Frame versenden, kann es
 das Frame erst versenden wenn genügend Tokens vorhanden sind.
 Dabei verbraucht ein Frame mit n Bytes genau n Tokens.
 Wenn zum Beispiel ein Frame mit 800 Bytes versendet werden muss und nur
 600 Tokens vorhanden sind, muss das Gerät mit dem Versand warten bis genügend
 Tokens vorhanden sind.
\end_layout

\begin_layout Standard
So kann der Zufluss von neuem Traffic limitiert werden, womit kein Gerät
 das Netzwerk mit neuen Frames überschütten kann.
\end_layout

\begin_layout Subsubsection
Vortrittsregeln bezüglich Frames im und zum Ring
\begin_inset CommandInset label
LatexCommand label
name "sub:Vortrittsregeln-bezüglich-Frames"

\end_inset


\end_layout

\begin_layout Standard
Damit die Frames innerhalb des Rings (HSR-Netzwerks) schneller zum Ziel
 kommen, kann diesen Frames der Vortritt gegenüber Frames von Aussen gewährt
 werden.
 Dies ist bei gleich priorisierten Frames der Fall.
 Es kann hier jedoch die Möglichkeit geben, dass so nie gleich priorisierte
 Frames von Aussen versendet werden.
\end_layout

\begin_layout Standard
Je nach auftretenden Prioritäten kann es auch sein, dass von Aussen ein
 Express-Frame und vom Ring ein High-Frame kommt.
 Dann hat das Express-Frame trotz der Herkunft von Aussen aufgrund dessen
 Priorität Vortritt.
\end_layout

\begin_layout Standard
Die andere Möglichkeit ist, den Frames, die auf den Ring sollen, den Vortritt
 zu gewähren.
 So kann ein minimaler Zufluss auf den Ring garantiert werden.
\end_layout

\begin_layout Subsubsection
Reissverschluss
\end_layout

\begin_layout Standard
Ein Derivat des vorherigen Mechanismus ist, den Vortritt zwischen Frames
 vom Ring und von Aussen zu alternieren.
 Die Frames würden dann wie folgt priorisiert werden (Angenommen es kommen
 alle 3 Prioritäten (Express, High und Low) vor):
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\noindent
Liste 1
\end_layout

\begin_layout Enumerate
\noindent
Express-Frame vom Ring
\end_layout

\begin_layout Enumerate
Express-Frame von Aussen
\end_layout

\begin_layout Enumerate
High-Frame vom Ring
\end_layout

\begin_layout Enumerate
High-Frame von Aussen
\end_layout

\begin_layout Enumerate
Low-Frame vom Ring
\end_layout

\begin_layout Enumerate
Low-Frame von Aussen
\end_layout

\end_inset


\begin_inset space \hfill{}
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "45col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\noindent
Liste 2
\end_layout

\begin_layout Enumerate
\noindent
Express-Frame von Aussen
\end_layout

\begin_layout Enumerate
Express-Frame vom Ring
\end_layout

\begin_layout Enumerate
High-Frame von Aussen
\end_layout

\begin_layout Enumerate
High-Frame vom Ring
\end_layout

\begin_layout Enumerate
Low-Frame von Aussen
\end_layout

\begin_layout Enumerate
Low-Frame vom Ring
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
So würde die Priorisierung zwischen der aus Liste 1 und der aus Liste 2
 nach jedem Frame-Versand abwechseln.
\end_layout

\begin_layout Subsubsection
Zeitschlitzverfahren
\end_layout

\begin_layout Standard
Im Zeitschlitzverfahren werden Zeitschlitze definiert, in denen man High-
 und Low-Frames senden kann, ein Express-Frame kann immer versendet werden.
 
\end_layout

\begin_layout Standard
Jeder Zeitschlitz hat eine sogenannte Grün-Phase, in welcher High-Frames
 gesendet werden können.
 Den Rest des Zeitschlitzes wird für den Sendevorgang oder Low-Frames verwendet.
 Sollten keine High-Frames da sein so können auch Low-Frames gesendet werden.
 Dies wiederholt sich in jedem Zeitschlitz.
 Mit diesem Mechanismus wird verhindert, dass Low-Frames nicht gesendet
 werden, wenn ständig High-Frames zum Senden bereitstehen.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename _img/020_Zeitschlitzverfahren.png
	display false
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Beispiel von Frameabfolge mit Zeitschlitzverfahren
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Abhandlung der Frames innerhalb eines Gerätes
\end_layout

\begin_layout Standard
Jeder Node (DANH oder Redbox, siehe Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Gerätetypen HSR"

\end_inset

) im Netzwerk verfügt über einen internen Switch, der entscheidet wohin
 die Frames gesendet werden sollen.
 Zum Beispiel verfügt ein DANH in der Simulation über 3 Ports, zwei für
 die Frames vom und auf den Ring (Ethernet-Ports) und einen für die Frames
 von und zur CPU.
\end_layout

\begin_layout Standard
Für jeden möglichen Ausgang ist ein Scheduler zuständig (d.h.
 bei einem DANH-Gerät hat es 3 Scheduler), in welchem die Mechanismen zur
 Trafficregelung (siehe Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Mechanismen-zur-Trafficregelung"

\end_inset

) implementiert sind und die Frames priorisiert abhandelt.
 Der Scheduler ist innerhalb des Switches implementiert und erhält vom Switch
 Zugang zu dessen Ausgängen, die er benötigt und die Frames, die er für
 seinen Ausgang zu koordinieren hat.
\end_layout

\begin_layout Standard
Sobald ein Gerät ein Frame erhält, wird es in dessen Switch analysiert und
 die Herkunft und das Ziel ermittelt, um entscheiden zu können, an welchen
 Ausgang das Frame weitergeleitet werden muss.
 Je nach Ausgang wird das Frame dann an den jeweiligen Scheduler weitergeleitet.
 Muss ein Frame an alle Ethernet-Ports gesendet werden (wenn z.B.
 ein Frame von der CPU des Gerätes generiert wird), dann wird dies vom Switch
 dupliziert und an die betroffenen Scheduler gesendet.
 Der Scheduler ermittelt dann die Priorität (und eventuell die Herkunft)
 des Frames, um diese dann in die entsprechende Queue einzuordnen.
 Die Herkunft ist nur je nach Mechanismus notwendig, wenn z.B.
 Frames, die vom Ring kommen, priorisiert werden (siehe Kapitel 
\begin_inset CommandInset ref
LatexCommand vref
reference "sub:Vortrittsregeln-bezüglich-Frames"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename _img/020_Ablauf_Frame_Switch.png
	display false
	scale 90

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Beispielablauf und Schedulerzuordnung eines Frames in einem Switch
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Bei einem Express-Frame muss der Scheduler sofort handeln und wenn möglich
 das Frame, das gerade übertragen wird, fragmentieren.
\end_layout

\begin_layout Standard
Der Scheduler arbeitet nach jedem neuen Frame seine Queues ab.
 Dabei überprüft er, ob auf seinem Ausgang gerade etwas gesendet wird und
 sendet bei einem freien Ausgang das nächste Frame, das je nach Priorität
 und Mechanismus an der Reihe ist.
 Wird gerade etwas auf dem Ausgang übertragen, versucht es der Scheduler
 erst nochmals sobald die Übertragung zu Ende ist.
\end_layout

\begin_layout Subsection
Generierung von Traffic (Lastprofile)
\end_layout

\begin_layout Standard
In jedem Node ist ein Generator implementiert, welcher mittels Konfigurationspar
ameter Frames in verschiedenen Folgemustern generieren kann.
 In diesem Kapitel werden verschiedene Muster von Traffic (Lastprofile)
 aufgezeigt, die in der Simulation generiert werden können.
\end_layout

\begin_layout Standard
Die Lastprofile teilen dabei folgende Eigenschaften bezüglich der Prioritäten
 der Frames:
\end_layout

\begin_layout Itemize
Express-Frames sind klein und kommen selten vor.
 Sie sollen Alarme in einem System darstellen, welche schnellstmöglich übermitte
lt werden müssen.
\end_layout

\begin_layout Itemize
Frames der Priorität 
\begin_inset Quotes fld
\end_inset

High
\begin_inset Quotes frd
\end_inset

 stellen den normalen Verkehr dar.
 Dies kann unter anderem Down- und Upload von Dateien, Monitoring, etc.
 sein.
 Die Grösse der Frames kann klein und gross sein.
\end_layout

\begin_layout Itemize
Die Frames mit der Priorität 
\begin_inset Quotes fld
\end_inset

Low
\begin_inset Quotes frd
\end_inset

 bilden den Background-Traffic, der oft vorkommt und wie der normale Verkehr
 verschieden gross sein kann.
\end_layout

\begin_layout Standard
Bezüglich der Auftretenswahrscheinlichkeit der Frames lässt sich demnach
 folgendes sagen: Je höher die Priorität, desto seltener kommt das Frame
 vor.
\end_layout

\begin_layout Subsubsection
Lastprofil ##: xxxxxxxxxxxxxxxxxxxxxxx
\end_layout

\begin_layout Standard
Mechanismen:
\end_layout

\begin_layout Standard
Keine (FCFS), Zuflusslimitierung, Vortritt Ring / von Aussen, Reissverschluss,
 Zeitschlitzverfahren
\end_layout

\begin_layout Section
Experimente
\end_layout

\begin_layout Section
Konzeptpapier
\end_layout

\begin_layout Subsection
Einleitung
\end_layout

\begin_layout Standard
Dieses Dokument geht konkret auf die funktionalen Anforderungen, welche
 im Pflichtenheft gestellt werden ein und versucht anhand von verschiedenen
 Varianten die geeignete Lösung für deren Umsetzung herauszufiltern.
 Zunächst werden mögliche Projektrisiken aufgezeigt.
\end_layout

\begin_layout Subsection
Projekt-Risikoanalyse
\end_layout

\begin_layout Subsubsection*
Risikoidentifikation
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="35col%">
<column alignment="left" valignment="top" width="56col%">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Risiko
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mögliche Massnahmen
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wenn die Polizei vorbei fährt ...
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Itemize
...
 halt ich erst mal an
\end_layout

\begin_layout Itemize
ja
\end_layout

\begin_layout Itemize
...
 nimm ne Ziese aus der Schachtel
\end_layout

\begin_layout Itemize
ja
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout
Projekt-Risikoanalyse 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_body
\end_document
